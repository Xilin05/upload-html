<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=0"
    />
    <title>文件处理工具</title>
    <link
      rel="stylesheet"
      href="//at.alicdn.com/t/c/font_4229260_s4d7kgv1i1i.css"
    />
    <link rel="stylesheet" href="./lib/ViewerJs/viewer.min.css" />

    <link rel="stylesheet" href="./css/index.css" />

    <script
      type=""
      src="//at.alicdn.com/t/c/font_3364000_urvaihdejdo.js"
    ></script>

    <style type="text/css">
      .icon {
        width: 1em;
        height: 1em;
        vertical-align: -0.15em;
        fill: currentColor;
        overflow: hidden;
      }
    </style>
  </head>
  <body>
    <div class="main-container">
      <div class="upload-box">
        <div id="draggableRef" class="drag-click-box">
          <i class="svg-upload iconfont icon-shangchuankongxin_1"></i>
          拖拽文件至此上传
          <br />
          或
          <button id="uploadBtnRef" class="upload-btn linear-gradient-main">
            点击上传
          </button>
        </div>

        <div id="fileListRef" class="file-list-box">
          <!-- <div class="file-card">
            <svg
              class="file-icon svg-excel-file"
              aria-hidden="true"
              style="display: none"
            >
              <use xlink:href="#icon-Excel"></use>
            </svg>
            <div class="img-viewer">
              <img
                id="imageViewerRef"
                data-original="http://127.0.0.1:5012/public/upload/1693730890700-time-f21fed2c4986f165b4b0f772b64e70a5.jpg"
                src="http://127.0.0.1:5012/public/upload/1693730890700-time-f21fed2c4986f165b4b0f772b64e70a5.jpg"
                alt="图片1"
              />
            </div>
            <div class="file-info">
              <div class="name">Yosuda pp 6.1-6.30.xlsx</div>
              <div class="size">208KB</div>
            </div>
            <div class="file-operations">
              <i class="svg-operation primary iconfont icon-xiazai"></i>
              <i class="svg-operation success iconfont icon-check"></i>
              <i
                class="svg-operation warning iconfont icon-note"
                style="display: none"
              ></i>
            </div>

            <span class="progress-bg" style="transform: translateX(50%)"></span>

            <div class="progress-box" style="display: none">
              <span
                class="percent-bar linear-gradient-main"
                style="transform: translateX(50%)"
              ></span>
            </div>
          </div> -->
        </div>
      </div>
    </div>

    <!-- <div id="message-box" class="message-box success-msg">
      <div class="message-content"></div>
    </div> -->

    <div id="status-tip" class="popover-bubble">
      <div class="bubble-content">上传成功</div>
    </div>

    <div id="download-tip" class="popover-bubble">
      <div class="bubble-content">下载</div>
    </div>

    <div id="content-tip" class="popover-bubble">
      <div class="bubble-content">Hello World!</div>
    </div>

    <script src="./lib/qiuniu/index.min.js"></script>
    <script src="./lib/ViewerJs/viewer.min.js"></script>
    <script src="./js/fetch.js"></script>
    <script src="./js/api-request.js"></script>
    <script src="./js/index.js"></script>
    <script>
      var fileList = []
      var tempDomIds = []
      var imagesViewer = new Viewer(document.body, {
        url: 'data-original'
      })

      var statusBubble = document.getElementById('status-tip')
      var downloadBubble = document.getElementById('download-tip')
      var contentBubble = document.getElementById('content-tip')

      // btn2.addEventListener('click', async () => {
      //   const requestConfig = {
      //     method: 'GET',
      //     returnBlobFlag: true
      //   }

      //   // 🤠发送get请求,获取Blob对象
      //   const file = await fetchAjax(
      //     'http://localhost:8082/wjec/file/manyFileDownLoad/2.txt',
      //     null,
      //     requestConfig
      //   )
      //   console.log(file)
      // })

      // btn3.addEventListener('click', async () => {
      //   // 构造FormData表单对象
      //   const formData = new FormData(document.querySelector('#form'))
      //   formData.append('file', document.querySelector('#file1').files[0])
      //   formData.append('file', document.querySelector('#file2').files[0])

      //   // 🤠同时提交文件和表单数据到后台,获取响应
      //   const result = await fetchAjax(
      //     'http://localhost:8082/wjec/file/receiveData',
      //     formData
      //   )
      //   console.log(result)
      // })

      // 检测是否支持File API
      if (window.File && window.FileReader && window.FileList && window.Blob) {
        //  支持
        console.log('支持')
      } else {
        alert('不支持')
      }

      // const fragment = document.createDocumentFragment()
      // for (let i = 0; i < 1000; i++) {
      //   let li = document.createElement('li')
      //   li.innerHTML = '我是li标签'
      //   fragment.appendChild(li)
      // }
      // fileListRef.appendChild(fragment)
    </script>
  </body>
</html>
